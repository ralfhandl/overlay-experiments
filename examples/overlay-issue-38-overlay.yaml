overlay: 1.0.0
info:
  title: Apply Traits
  version: 1.0.0
actions:
  - target: $.paths.*.get[?(@.x-is[?(@ == 'pagable')])]
    update:
      parameters:
        - name: pageSize
          in: query
          type: number
          required: false
          default: 10
        - name: pageNumber
          in: query
          type: number
          required: false
          default: 1
  - target: $.paths.*.get[?(@.x-is[?(@ == 'pagable')])].responses.*.schema.properties
    update:
      pagination:
        $ref: "#/definitions/PaginationFragment"
  - target: $.paths.*.get.x-is
    remove: true
  - target: $.paths.*.*.responses.*[?(@.has[?(@ == 'metadata')])].schema.properties
    update:
      metadata:
        $ref: "#/definitions/MetadataFragment"
  - target: $.paths.*.*.responses.*.has
    remove: true
